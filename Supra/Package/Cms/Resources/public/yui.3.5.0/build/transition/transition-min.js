/*
YUI 3.18.1 (build 5089)
Copyright 2012 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/
YUI.add("transition",function(t){var n,e,i,o,r,s,a="",u="",d=t.config.doc,l="documentElement",_=d[l].style,f="transition",p="transitionProperty",c={},h=["Webkit","Moz"],y={Webkit:"webkitTransitionEnd"},g=function(){this.init.apply(this,arguments)};g._TRANSFORM="transform",g._toCamel=function(t){return t=t.replace(/-([a-z])/gi,function(t,n){return n.toUpperCase()})},g._toHyphen=function(t){return t=t.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(t,n,e,i){var o=(n?"-"+n.toLowerCase():"")+e;return i&&(o+="-"+i.toLowerCase()),o})},g.SHOW_TRANSITION="fadeIn",g.HIDE_TRANSITION="fadeOut",g.useNative=!1,"transition"in _&&"transitionProperty"in _&&"transitionDuration"in _&&"transitionTimingFunction"in _&&"transitionDelay"in _?(g.useNative=!0,g.supported=!0):t.Array.each(h,function(t){var n=t+"Transition";n in d[l].style&&(a=t,u=g._toHyphen(t)+"-",g.useNative=!0,g.supported=!0,g._VENDOR_PREFIX=t)}),"undefined"==typeof _.transform&&t.Array.each(h,function(t){var n=t+"Transform";"undefined"!=typeof _[n]&&(g._TRANSFORM=n)}),a&&(f=a+"Transition",p=a+"TransitionProperty"),n=u+"transition-property",e=u+"transition-duration",i=u+"transition-timing-function",o=u+"transition-delay",r="transitionend",s="on"+a.toLowerCase()+"transitionend",r=y[a]||r,g.fx={},g.toggles={},g._hasEnd={},g._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,t.Node.DOM_EVENTS[r]=1,g.NAME="transition",g.DEFAULT_EASING="ease",g.DEFAULT_DURATION=.5,g.DEFAULT_DELAY=0,g._nodeAttrs={},g.prototype={constructor:g,init:function(t,n){var e=this;return e._node=t,!e._running&&n&&(e._config=n,t._transition=e,e._duration="duration"in n?n.duration:e.constructor.DEFAULT_DURATION,e._delay="delay"in n?n.delay:e.constructor.DEFAULT_DELAY,e._easing=n.easing||e.constructor.DEFAULT_EASING,e._count=0,e._running=!1),e},addProperty:function(n,e){var i,o,r,s,a,u=this,d=this._node,l=t.stamp(d),_=t.one(d),f=g._nodeAttrs[l];f||(f=g._nodeAttrs[l]={}),s=f[n],e&&void 0!==e.value?a=e.value:void 0!==e&&(a=e,e=c),"function"==typeof a&&(a=a.call(_,_)),s&&s.transition&&s.transition!==u&&s.transition._count--,u._count++,r=("undefined"!=typeof e.duration?e.duration:u._duration)||1e-4,f[n]={value:a,duration:r,delay:"undefined"!=typeof e.delay?e.delay:u._delay,easing:e.easing||u._easing,transition:u},i=t.DOM.getComputedStyle(d,n),o="string"==typeof a?i:parseFloat(i),g.useNative&&o===a&&setTimeout(function(){u._onNativeEnd.call(d,{propertyName:n,elapsedTime:r})},1e3*r)},removeProperty:function(n){var e=this,i=g._nodeAttrs[t.stamp(e._node)];i&&i[n]&&(delete i[n],e._count--)},initAttrs:function(n){var e,i=this._node;n.transform&&!n[g._TRANSFORM]&&(n[g._TRANSFORM]=n.transform,delete n.transform);for(e in n)n.hasOwnProperty(e)&&!g._reKeywords.test(e)&&(this.addProperty(e,n[e]),""===i.style[e]&&t.DOM.setStyle(i,e,t.DOM.getComputedStyle(i,e)))},run:function(n){var e=this,i=e._node,o=e._config,r={type:"transition:start",config:o};return e._running||(e._running=!0,o.on&&o.on.start&&o.on.start.call(t.one(i),r),e.initAttrs(e._config),e._callback=n,e._start()),e},_start:function(){this._runNative()},_prepDur:function(t){return t=1e3*parseFloat(t),t+"ms"},_runNative:function(){var s,a,u,d=this,l=d._node,_=t.stamp(l),f=l.style,p=l.ownerDocument.defaultView.getComputedStyle(l),c=g._nodeAttrs[_],h="",y=p[g._toCamel(n)],v=n+": ",m=e+": ",N=i+": ",T=o+": ";"all"!==y&&(v+=y+",",m+=p[g._toCamel(e)]+",",N+=p[g._toCamel(i)]+",",T+=p[g._toCamel(o)]+",");for(u in c)s=g._toHyphen(u),a=c[u],(a=c[u])&&a.transition===d&&(u in l.style?(m+=d._prepDur(a.duration)+",",T+=d._prepDur(a.delay)+",",N+=a.easing+",",v+=s+",",h+=s+": "+a.value+"; "):this.removeProperty(u));v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),N=N.replace(/,$/,";"),T=T.replace(/,$/,";"),g._hasEnd[_]||(l.addEventListener(r,d._onNativeEnd,""),g._hasEnd[_]=!0),f.cssText+=v+m+N+T+h},_end:function(n){var e=this,i=e._node,o=e._callback,r=e._config,s={type:"transition:end",config:r,elapsedTime:n},a=t.one(i);e._running=!1,e._callback=null,i&&(r.on&&r.on.end?setTimeout(function(){r.on.end.call(a,s),o&&o.call(a,s)},1):o&&setTimeout(function(){o.call(a,s)},1))},_endNative:function(t){var e=this._node,i=e.ownerDocument.defaultView.getComputedStyle(e,"")[g._toCamel(n)];t=g._toHyphen(t),"string"==typeof i&&(i=i.replace(new RegExp("(?:^|,\\s)"+t+",?"),","),i=i.replace(/^,|,$/,""),e.style[f]=i)},_onNativeEnd:function(n){var e,i,o=this,r=t.stamp(o),s=n,a=g._toCamel(s.propertyName),u=s.elapsedTime,d=g._nodeAttrs[r],l=d[a],_=l?l.transition:null;_&&(_.removeProperty(a),_._endNative(a),i=_._config[a],e={type:"propertyEnd",propertyName:a,elapsedTime:u,config:i},i&&i.on&&i.on.end&&i.on.end.call(t.one(o),e),_._count<=0&&(_._end(u),o.style[p]=""))},destroy:function(){var t=this,n=t._node;n&&(n.removeEventListener(r,t._onNativeEnd,!1),t._node=null)}},t.Transition=g,t.TransitionNative=g,t.Node.prototype.transition=function(n,e,i){var o,r,s=g._nodeAttrs[t.stamp(this._node)],a=s?s.transition||null:null;if("string"==typeof n)if("function"==typeof e&&(i=e,e=null),o=g.fx[n],e&&"object"==typeof e){e=t.clone(e);for(r in o)o.hasOwnProperty(r)&&(r in e||(e[r]=o[r]))}else e=o;else i=e,e=n;return a&&!a._running?a.init(this,e):a=new g(this._node,e),a.run(i),this},t.Node.prototype.show=function(n,e,i){return this._show(),n&&t.Transition?("string"==typeof n||n.push||("function"==typeof e&&(i=e,e=n),n=g.SHOW_TRANSITION),this.transition(n,e,i)):n&&!t.Transition&&t.log("unable to transition show; missing transition module","warn","node"),this},t.NodeList.prototype.show=function(n,e,i){for(var o,r=this._nodes,s=0;o=r[s++];)t.one(o).show(n,e,i);return this};var v=function(t,n,e){return function(){n&&n.call(t),e&&"function"==typeof e&&e.apply(t._node,arguments)}};t.Node.prototype.hide=function(n,e,i){return n&&t.Transition?("function"==typeof e&&(i=e,e=null),i=v(this,this._hide,i),"string"==typeof n||n.push||("function"==typeof e&&(i=e,e=n),n=g.HIDE_TRANSITION),this.transition(n,e,i)):n&&!t.Transition?t.log("unable to transition hide; missing transition module","warn","node"):this._hide(),this},t.NodeList.prototype.hide=function(n,e,i){for(var o,r=this._nodes,s=0;o=r[s++];)t.one(o).hide(n,e,i);return this},t.NodeList.prototype.transition=function(n,e,i){for(var o,r=this._nodes,s=this.size(),a=0,i=i===!0;o=r[a++];)s>a&&i?t.one(o).transition(n):t.one(o).transition(n,e);return this},t.Node.prototype.toggleView=function(n,e,i){return this._toggles=this._toggles||[],i=arguments[arguments.length-1],"string"!=typeof n?(e=n,void this._toggleView(e,i)):("function"==typeof e&&(e=void 0),"undefined"==typeof e&&n in this._toggles&&(e=!this._toggles[n]),e=e?1:0,e?this._show():i=v(this,this._hide,i),this._toggles[n]=e,this.transition(t.Transition.toggles[n][e],i),this)},t.NodeList.prototype.toggleView=function(){for(var n,e=this._nodes,i=0;n=e[i++];)n=t.one(n),n.toggleView.apply(n,arguments);return this},t.mix(g.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(t){return t.get("scrollHeight")+"px"},width:function(t){return t.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var t=this.getStyle("overflow");"hidden"!==t&&(this.setStyle("overflow","hidden"),this._transitionOverflow=t)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),t.mix(g.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]}),g.DEFAULT_TOGGLE="fade"},"3.5.0",{requires:["node-base"]});
