@import "../../../../../less/common.less";

.yui3-medialist {
	font-size: 13px;
	position: relative;
}

/**
 * Scrollbars
 */
.yui3-medialist-content {
	.su-scrollable .su-scrollable-scrollbar-background {
		top: 10px;
		bottom: 8px;
	}
}

.yui3-medialist {
	/**
	 * Empty folder overlay
	 */
	div.empty {
		text-align: center;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		.text-shadow();
	}
	
	/**
	 * Empty folder DND icon
	 */
	div.empty-dnd {
		background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icon-drag-drop.png) 50% 50% no-repeat;
	}
	
	/**
	 * Last opened folder DND icon
	 */
	.dnd-marker {
		position: absolute;
		background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icon-drag-drop-small.png) 0 0 no-repeat;
		width: 139px;
		height: 24px;
		left: 50%;
		bottom: 10px;
		margin-left: -70px;
	}
}
.yui3-medialist-extended {
	.su-slide-full-width {
		width: auto !important;
		right: 0;
	}
	
	/**
	 * Last opened folder DND icon
	 */
	.dnd-marker {
		bottom: 5px;
		opacity: 0;
		.transition (opacity 0.3s);
	}
	.su-slide-last,
	.su-multiview-slide-last {
		.dnd-marker {
			opacity: 1;
		}
	}
}

/**
 * Folder
*/
.yui3-medialist ul.folder > li,
.yui3-medialist li.type-folder-proxy {
	overflow: hidden;
	cursor: pointer;
	padding: 0;
	
	&:hover,
	&.selected,
	&.marked {
		background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/item-hover-selected.png) 0 4px repeat-x;
		border-radius: 3px;
		
		span {
			color: #fff;
			.text-shadow (0, 1px, 0, rgba(54, 53, 71, 0.6));
		}
	}
	&.marked {
		box-shadow: 0 1px 1px rgba(4,1,17,0.6) inset, 0 -1px 0 #afb0c0 inset;
		background: url(/cms/lib/supra/img/blocks/background-hover.gif) 0 0 repeat;
		border-radius: 3px;
	}
	
	a {
		display: block;
		vertical-align: middle;
		height: 42px;
		
		float: left;
		position: relative;
		margin: 4px -44px 0 0;
		right: -9px;
	}
	span {
		.box-sizing (border-box);
		.user-select (none);
		
		display: inline-block;
		padding: 0 0 0 56px;
		
		width: 100%;
		overflow: hidden;
		
		color: #323144;
		line-height: 50px;
		text-overflow: ellipsis;
		.text-shadow ();
		vertical-align: middle;
		white-space: nowrap;
	}
}

.yui3-medialist ul.folder {
	list-style: none;
	padding: 9px 0 39px 10px;
	.user-select (none);

	/* Folder rename inplace editor */
	& > li.renaming {
		cursor: default;
		background: none;
		
		span,
		label {
			display: none;
		}
		.yui3-input,
		input {
			display: block;
			vertical-align: middle;
		}
		.yui3-input {
			padding: 12px 12px 12px 50px;
		}
		input {
			.box-shadow (0, 1px, 1px, rgba(4, 1, 17, 0.6) inset);
			.border-radius (5px);
			border: 2px solid #C0C1D1;
			background: none;
			
			width: 100%;
			height: 26px;
			
			color: #fff;
			font-size: 13px;
			line-height: 22px;
			.text-shadow (0, 1px, 0, rgba(54, 53, 71, 0.6));
		}
	}
	
	
	/*
	 * File type icons
	 */
	& > li {
		
		&.type-folder > a,
		&.type-file > a,
		&.type-image > a {
			width: 42px;
			height: 44px;
		}
		
		&.type-folder > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/folder.png) 0 0 no-repeat;
		}
		&.type-folder-private > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/folder-private.png) 0 0 no-repeat;
		}
		&.type-file > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file.png) 0 0 no-repeat;
		}
		&.type-file-pdf > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file-pdf.png) 0 0 no-repeat;
		}
		&.type-file-swf > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file-swf.png) 0 0 no-repeat;
		}
		&.type-file-doc > a,
		&.type-file-docx > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file-doc.png) 0 0 no-repeat;
		}
		&.type-file-xls > a,
		&.type-file-xlsx > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file-xls.png) 0 0 no-repeat;
		}
		&.type-file-ppt > a,
		&.type-file-pptx > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/file-ppt.png) 0 0 no-repeat;
		}
		&.type-image > a {
			background: none;
			text-align: center;
			
			img {
				.box-shadow (0, 1px, 3px, rgba(0, 0, 0, 0.75));
				border: 3px solid #fff;
				margin-top: 3px;
				max-width: 30px;
			}
		}
		&.type-broken > a {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/broken.png) 0 0 no-repeat;
		}
		
		&.loading.type-folder {
			position: relative;
			cursor: default;
			
			> a {
				.loading-icon-mixin(20px);
				.loading-icon-mixin-light();
				
				left: 15px;
				top: 9px;
				margin: 0;
				background-image: none;
				cursor: default;
			}
		}
		
	}
	
	/*
	 * Temporary folder item
	 */
	& > li.type-temp {
		line-height: 23px;
		cursor: default;
		position: relative;
		height: 25px;
		background: none;
		
		&:hover {
			background: none;
		}
		.title {
			color: #fff;
			line-height: 23px;
			font-size: 12px;
			text-shadow: none;
			
			padding-left: 21px;
			position: relative;
			z-index: 1;
		}
		.progress {
			position: absolute;
			left: 10px;
			right: 18px;
			top: 0;
			height: 25px;
			width: auto;
			padding: 2px;
			background: url(/public/cms/supra/img/medialibrary/upload-progress.png) 0 0 no-repeat,
						url(/public/cms/supra/img/medialibrary/upload-progress.png) 100% -50px no-repeat,
						url(/public/cms/supra/img/medialibrary/upload-progress.png) 0 -25px repeat-x;
			
			em {
				display: block;
				float: left;
				width: 0%;
				height: 20px;
				background: url(/public/cms/supra/img/medialibrary/upload-progress.png) 0 -75px no-repeat,
							url(/public/cms/supra/img/medialibrary/upload-progress.png) 100% -115px no-repeat,
							url(/public/cms/supra/img/medialibrary/upload-progress.png) 0 -95px repeat-x;
			}
		}
		
		.cancel {
			background: url(/public/cms/supra/img/medialibrary/upload-progress.png) 4px -135px no-repeat;
			width: 18px;
			height: 25px;
			margin: 0;
			display: block;
			position: absolute;
			right: 0;
			top: 0;
			cursor: pointer;
			
			&:hover {
				background-position: 4px -160px;
			}
		}
	}
	& > li.type-temp-legacy {
		.title {
			color: #323144;
			.text-shadow ();
		}
		//File upload can't be aborted and there is no progress bar
		.progress, .cancel {
			display: none;
		}
	}
}

.yui3-medialist li.type-folder-proxy {
	list-style: none;
	z-index: 10;
	
	& > a {
		width: 42px;
		height: 44px;
		background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/icons/folder.png) 0 0 no-repeat;
	}
}

/**
 * Image / File
 */
.yui3-medialist div.image,
.yui3-medialist div.file {
	padding: 20px 20px 5px;
	
	div.preview {
		text-align: center;
		margin-bottom: 10px;
		
		img {
			.box-shadow (0, 1px, 3px, rgba(0, 0, 0, 0.75));
			background-color: #fff;
			border: 3px solid #fff;

			&.known-extension {
				border: none;
				background-color: transparent;
				.box-shadow();
			}
		}
		&.hover img {
			border-color: #e0e0e0;
			cursor: pointer;
		}
		&.selected img {
			border-color: #CDECFF;
			cursor: pointer;
		}
		&.loading {
			min-height: 0;
			height: auto;
		}
	}
	
	.input-group {
		padding: 10px 0 0;
		
		.su-button.edit button p,
		.su-button.replace button p,
		.su-button.download button p {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/buttons/edit.png) 0 0 no-repeat;
			text-align: left;
			width: 60px;
			padding-left: 25px;
		}
		.su-button.replace button p {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/buttons/replace.png) 0 0 no-repeat;
		}
		.su-button.download button p {
			background: url(/public/cms/supra/build/medialibrary/assets/skins/supra/images/buttons/download.png) 0 0 no-repeat;
		}
	}
	
	.preview-title {
		color: #fff;
		font-size: 14px;
		font-weight: bold;
		text-align: center;
		.text-shadow (0, 1px, 0, rgba(0, 15, 53, 0.4));
		padding: 0 0 10px;
	}
	.preview-description {
		color: #0A0616;
		.text-shadow ();
	}
	
	.inp-title,
	.inp-description,
	.inp-filename,
	.inp-locale,
	.meta > .yui3-input {
		margin: 0 0 5px;
		padding: 0;
		display: block;
	}
	.inp-title input,
	.inp-description textarea {
		width: 100%;
	}
	.inp-locale {
		.su-button {
			width: auto !important;
		}
	}
	
	a.more,
	a.less {
		display: inline-block;
		margin: 15px 0 5px;
		padding: 0 15px 0 0;
		
		color: #fff;
		font-size: 12px;
		line-height: 16px;
		text-decoration: none;
		.text-shadow (0, 1px, 0, rgba(0, 15, 53, 0.6));
	}
	a.more {
		background: url(images/arrow-down.png) 100% 4px no-repeat;
	}
	a.less {
		background: url(images/arrow-up.png) 100% 5px no-repeat;
	}
	
	.info {
		margin: 0 0 10px;
		font-size: 12px;
		line-height: 14px;
		
		& > div {
			padding: 0 0 5px 105px;
		}
		.info-label {
			display: block;
			float: left;
			position: relative;
			width: 100px;
			margin-left: -105px;
			
			color: #4D4D61;
			text-align: right;
			.text-shadow ();
		}
		.info-data {
			display: block;
			width: 100%;
			min-height: 14px;
			overflow: hidden;
			
			color: #0A0616;
			text-overflow: ellipsis;
			.text-shadow ();
		}
	}
	
	.insert {
		text-align: center;
		
		.su-button p {
			width: 114px;
		}
	}
}

.yui3-medialist div.image div.preview {
	img {
		.transition (opacity 0.35s ease);
		opacity: 1;
	}
	&.loading img {
		.transition (opacity 0.15s ease);
		opacity: 0;
	}
}


.yui3-medialist .inp-filename .yui3-input,
.yui3-medialist .input-sortby .yui3-input {
	label {
		display: none;
	}
}

/**
 * Meta properties
 */
.yui3-medialist .meta {
	margin: 0;
	
	> .yui3-input {
		label {
			color: #4D4D61;
			font-weight: normal;
		}
	}
}

/*
 * Info
 */
.yui3-medialist .group {
	margin: 20px 0 0;
}

/**
 * Sidebar media list with sorting switch
 */
.sidebar .yui3-medialist {
	width: 100%;
	height: 100%;
	
	padding-top: 47px; // Space reserved for sorting switch
	.box-sizing (border-box);
	
	div.image div.preview img {
		cursor: move;
		max-width: 100%;
	}
	
	.input-sortby {
		@labelWidth: 60px;
		
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		border-bottom: 1px solid #A3A4B7;
		margin: 0;
		padding: 7px 19px;
		
		.yui3-input-select-list-content {
			padding-left: @labelWidth;
		}
		
		.yui3-input-select-list-buttons {
			width: 100%;
		}
		
		label {
			.box-sizing (border-box);
			display: block;
			float: left;
			width: @labelWidth;
			margin-left: -@labelWidth;
			position: relative;
		}
	}
}

/**
 * Drag & drop
 * HTML5 and folders
 */
.yui3-medialist .su-slideshow-multiview {
	.yui3-html5-dd-target,
	.yui3-dd-drop-over {
		.border-radius (3px);
		.box-shadow (0, 0, 2px, #fff inset);
	}
	
	ul.folder > li.yui3-html5-dd-target,
	ul.folder > li.yui3-dd-drop-over {
		.box-shadow (0, 0, 2px, #fff);
	}
	
	ul.folder > li.yui3-dd-dragging {
		.border-radius (0);
		.box-shadow (none);
		opacity: 0.25;
	}
}