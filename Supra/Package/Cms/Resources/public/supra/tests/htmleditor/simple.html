<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<title>CRUD</title>
	
	<!-- Fav icon -->
	<link rel="icon" type="image/png" href="/favicon.png" /><!--[if lte IE 8]>
	<link rel="shortcut icon" href="/favicon-simple.ico" type="image/vnd.microsoft.icon" />
	<![endif]--><!--[if gt IE 8]>
	<link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />
	<![endif]-->
	
	<script src="/cms/lib/pack.js"></script>
	<link rel="stylesheet" type="text/css" href="/cms/lib/pack.css" />
	
</head>
<body class="yui3-skin-supra">
	
	<div class="loading-icon"></div>
	
	<div class="cms-header" id="cmsHeader"></div>
	<div class="cms-content" id="cmsContent"></div>
	
	<script type="text/javascript">
	//<![CDATA[
	
		Supra('supra.manager', function (Y) {
			var APP_PATH = '/lib/supra/tests/htmleditor',
				STATIC_PATH = '/cms',
				DYNAMIC_PATH = '/cms';
			
			//Set current manager paths
			Supra.Manager.Loader.setStaticPath(STATIC_PATH);
			Supra.Manager.Loader.setDynamicPath(DYNAMIC_PATH);
			
			Supra.Manager.Loader.setBasePath(APP_PATH);
			Supra.setModuleGroupPath('website', STATIC_PATH + APP_PATH + '/modules');
			
			//Configuration / parameters
			Supra.data.set({
				//Session (used in Ajax requests)
				'sessionName': 'SID',
				'sessionId': 'REPLACE_WITH_SESSION_ID_STRING',
				
				//Date & time formats
				'dateFormat': '%d.%m.%Y',
				'timeFormat': '%H:%M:%S',
				'timeFormatShort': '%H:%M',
				
				//User data
				'user': {
					'id': '',
					'name': 'Chuck Noriss',
					'login': 'chuck.noriss',
					'avatar': null
				},
				
				//Languages
				'locale': 'lv_LV',
				
				'contexts': [
					{
						'title': 'Latvia',
						'languages': [{'id': 'lv_LV', 'flag': 'lv', 'title': 'Latvian'}, {'id': 'ru_RU', 'flag': 'ru', 'title': 'Russian'}, {'id': 'en_LV', 'flag': 'en', 'title': 'English'}]
					},
					{
						'title': 'Russia',
						'languages': [{'id': 'ru_RU', 'flag': 'ru', 'title': 'Russian'}]
					},
					{
						'title': 'United Kingdom',
						'languages': [{'id': 'en_GB', 'flag': 'en', 'title': 'English'}]
					}
				],
				
				//Application
				'application': {
					'id': 'crud-manager',
					'path': STATIC_PATH + APP_PATH,
					'icon': '/cms/lib/supra/img/apps/crud',
					'title': 'CRUD'
				},
				
				//Internationalization
				'lang': 'en',
				
				//Supra.HTMLEditor + plugins
				'supra.htmleditor': {
					'standalone': {
						'stylesheets': [
							'/cms/lib/supra/tests/htmleditor/sample.css'
						],
						'doctype': '<!DOCTYPE html>',
						'wrap': '#content .text'
					},
					
					'stylesheets': {
						'skip_default': false
					},
					'plugins': {
						'image': {
							'size': '200x200',
							'styles': false
						}
					}
				},
				
				//CRUD manager data paths
				'crudManagerPaths': {
					'configuration': '/cms/crud-manager/data/configuration.json',
					'datalist': '/cms/crud-manager/data/datalist.json',
					'save': '/cms/crud-manager/form/save.json',
					'delete': '/cms/crud-manager/form/delete.json',
					'sort': '/cms/crud-manager/form/sort.json'
				}

			});
			
			//Start loading actions
			Supra.Manager.loadActions(['Header', 'LayoutContainers', 'PageToolbar', 'PageButtons', 'PageContentSettings']);
			
			//Execute initial actions
			Supra.Manager.executeAction('Header');
			Supra.Manager.executeAction('Root');
			
		});
		
	//]]>
	</script>

</body>
</html>